#pragma once

#include "Macros.hpp"
#include "Types.hpp"
#include "String.hpp"
#include "Array.hpp"

namespace mc {

  MC_ENUM(Type,
	  CHAR,
	  INT,
	  FLOAT,
	  STRING,
	  NO_VALUE);

  struct Value {

    Type type;

    union {
      char char_val;
      i32 int_val;
      f32 float_val;
      String str_val;
    };

    Value(Type _type);
    Value(const Value& b);
    Value(Value&& b);
    ~Value();
    void operator=(const Value& b);
    void operator=(Value&& b);
    
  };

  struct Sexp {

    Value value;
    Array<Sexp*> sexps;

    Sexp(Type type) : value(type) {}
    
  };

};
